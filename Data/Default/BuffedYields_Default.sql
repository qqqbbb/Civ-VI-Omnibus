/*
	Created by thecrazyscotsman for thecrazyscotsman's Omnibus Mod (30 Nov 2016)
	
	Utilizes temporary tables to automate Modifier and Requirement generation for Tag-related resource buffs
	
	Automatically detects Strategic Resource technology requirements and applies them before the corresponding resource will be buffed
	
	New Tags can easily be created as long as they follow this specific format: 
		TCS_CLASS_[string]_FOOD1_RESOURCE
	Where FOOD is the resource yield the tag will generate and 1 is the amount the yield will change
	Where RESOURCE corresponds to RESOURCE_CLASS or FEATURE corresponds to TCS_FEATURE_CLASS
	
	TypeTags must be manually assigned as must BuildingModifiers and DistrictModifiers
*/

--Create custom Tag vocabulary
INSERT INTO Vocabularies (Vocabulary)
	VALUES ("TCS_FEATURE_CLASS");

--Create custom resource/feature Tags
--Tags commented out can be enabled by uncommenting them
INSERT INTO Tags (Tag, Vocabulary)
	VALUES
		--("TCS_CLASS_AQUEDUCT_FOOD1_FEATURE", "TCS_FEATURE_CLASS"),
		("TCS_CLASS_AQUEDUCT_FOOD2_FEATURE", "TCS_FEATURE_CLASS"),
		--("TCS_CLASS_AQUEDUCT_FOOD1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_AQUEDUCT_FOOD2_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_CAMPUS_SCIENCE1_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_CAMPUS_SCIENCE2_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_GRANARY_FOOD1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_WATER_MILL_FOOD1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_WATER_MILL_PRODUCTION1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_WATER_MILL_FOOD1_FEATURE", "TCS_FEATURE_CLASS"),
		--("TCS_CLASS_WATER_MILL_PRODUCTION1_FEATURE", "TCS_FEATURE_CLASS"),
		("TCS_CLASS_COMMERCIAL_GOLD1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_COMMERCIAL_GOLD2_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_ENCAMPMENT_PRODUCTION1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_ENCAMPMENT_PRODUCTION2_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_BARRACKS_PRODUCTION1_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_ENTERTAINMENT_GOLD1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_ENTERTAINMENT_GOLD2_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_ENTERTAINMENT_CULTURE1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_ENTERTAINMENT_CULTURE2_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_HARBOR_FOOD1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_HARBOR_FOOD2_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_HARBOR_PRODUCTION1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_HARBOR_PRODUCTION2_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_HARBOR_GOLD1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_HARBOR_GOLD2_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_HOLY_FAITH1_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_HOLY_FAITH2_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_INDUSTRIAL_PRODUCTION1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_INDUSTRIAL_PRODUCTION2_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_THEATER_CULTURE1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_THEATER_CULTURE2_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_HORSE_PRODUCTION1_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_IRON_PRODUCTION1_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_NITER_PRODUCTION1_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_COAL_PRODUCTION1_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_OIL_PRODUCTION1_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_ALUMINUM_PRODUCTION1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_URANIUM_PRODUCTION1_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_URANIUM_SCIENCE2_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_STRATEGIC_PRODUCTION1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_LUXURY_CULTURE1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_BONUS_GOLD1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_SEA_FOOD1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_SEA_FOOD2_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_SEA_PRODUCTION1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_SEA_PRODUCTION2_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_SEA_GOLD1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_SEA_GOLD2_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_GENERIC_FOOD1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_GENERIC_PRODUCTION1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_GENERIC_GOLD1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_GENERIC_GOLD2_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_GENERIC_CULTURE1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_GENERIC_SCIENCE1_RESOURCE", "RESOURCE_CLASS"),
		--("TCS_CLASS_GENERIC_FAITH1_RESOURCE", "RESOURCE_CLASS"),
		("TCS_CLASS_FOREST_FOOD1_FEATURE", "TCS_FEATURE_CLASS");

INSERT INTO TypeTags (Type, Tag)
	VALUES		
		--Aqueduct
		("FEATURE_OASIS", "TCS_CLASS_AQUEDUCT_FOOD2_FEATURE"),
		
		--Campus
		("RESOURCE_MERCURY", "TCS_CLASS_CAMPUS_SCIENCE2_RESOURCE"),
		("RESOURCE_URANIUM", "TCS_CLASS_URANIUM_SCIENCE2_RESOURCE"),
		
		--City Center | Granary
		("RESOURCE_BANANAS", "TCS_CLASS_GRANARY_FOOD1_RESOURCE"),
		("RESOURCE_CATTLE", "TCS_CLASS_GRANARY_FOOD1_RESOURCE"),
		("RESOURCE_CITRUS", "TCS_CLASS_GRANARY_FOOD1_RESOURCE"),
		("RESOURCE_DEER", "TCS_CLASS_GRANARY_FOOD1_RESOURCE"),
		("RESOURCE_RICE", "TCS_CLASS_GRANARY_FOOD1_RESOURCE"),
		("RESOURCE_SHEEP", "TCS_CLASS_GRANARY_FOOD1_RESOURCE"),
		("RESOURCE_WHEAT", "TCS_CLASS_GRANARY_FOOD1_RESOURCE"),
		
		--Commercial
		("RESOURCE_FURS", "TCS_CLASS_COMMERCIAL_GOLD1_RESOURCE"),
		("RESOURCE_SALT", "TCS_CLASS_COMMERCIAL_GOLD1_RESOURCE"),
		("RESOURCE_COTTON", "TCS_CLASS_COMMERCIAL_GOLD1_RESOURCE"),
		("RESOURCE_DYES", "TCS_CLASS_COMMERCIAL_GOLD1_RESOURCE"),
		("RESOURCE_SILK", "TCS_CLASS_COMMERCIAL_GOLD1_RESOURCE"),
		("RESOURCE_SPICES", "TCS_CLASS_COMMERCIAL_GOLD1_RESOURCE"),
		("RESOURCE_SUGAR", "TCS_CLASS_COMMERCIAL_GOLD1_RESOURCE"),
		("RESOURCE_TOBACCO", "TCS_CLASS_COMMERCIAL_GOLD1_RESOURCE"),
		("RESOURCE_SILVER", "TCS_CLASS_COMMERCIAL_GOLD1_RESOURCE"),
		
		--Encampment
		("RESOURCE_COPPER", "TCS_CLASS_ENCAMPMENT_PRODUCTION1_RESOURCE"),
		("RESOURCE_HORSES", "TCS_CLASS_ENCAMPMENT_PRODUCTION1_RESOURCE"),
		("RESOURCE_IRON", "TCS_CLASS_IRON_PRODUCTION1_RESOURCE"),
		("RESOURCE_NITER", "TCS_CLASS_NITER_PRODUCTION1_RESOURCE"),
		--Encampment | Barracks
		("RESOURCE_COPPER", "TCS_CLASS_BARRACKS_PRODUCTION1_RESOURCE"),
		--Encampment | Stable
		("RESOURCE_HORSES", "TCS_CLASS_HORSE_PRODUCTION1_RESOURCE"),
		
		--Entertainment
		("RESOURCE_COCOA", "TCS_CLASS_ENTERTAINMENT_GOLD1_RESOURCE"),
		("RESOURCE_TRUFFLES", "TCS_CLASS_ENTERTAINMENT_GOLD1_RESOURCE"),
		("RESOURCE_IVORY", "TCS_CLASS_ENTERTAINMENT_GOLD1_RESOURCE"),
		("RESOURCE_COCOA", "TCS_CLASS_ENTERTAINMENT_CULTURE1_RESOURCE"),
		("RESOURCE_TRUFFLES", "TCS_CLASS_ENTERTAINMENT_CULTURE1_RESOURCE"),
		("RESOURCE_IVORY", "TCS_CLASS_ENTERTAINMENT_CULTURE1_RESOURCE"),
		
		--Harbor
		("RESOURCE_CRABS", "TCS_CLASS_HARBOR_FOOD1_RESOURCE"),
		("RESOURCE_FISH", "TCS_CLASS_HARBOR_FOOD1_RESOURCE"),
		("RESOURCE_PEARLS", "TCS_CLASS_HARBOR_FOOD1_RESOURCE"),
		("RESOURCE_WHALES", "TCS_CLASS_HARBOR_FOOD1_RESOURCE"),
		("RESOURCE_CRABS", "TCS_CLASS_HARBOR_PRODUCTION1_RESOURCE"),
		("RESOURCE_FISH", "TCS_CLASS_HARBOR_PRODUCTION1_RESOURCE"),
		("RESOURCE_PEARLS", "TCS_CLASS_HARBOR_PRODUCTION1_RESOURCE"),
		("RESOURCE_WHALES", "TCS_CLASS_HARBOR_PRODUCTION1_RESOURCE"),
		("RESOURCE_CRABS", "TCS_CLASS_HARBOR_GOLD1_RESOURCE"),
		("RESOURCE_FISH", "TCS_CLASS_HARBOR_GOLD1_RESOURCE"),
		("RESOURCE_PEARLS", "TCS_CLASS_HARBOR_GOLD1_RESOURCE"),
		("RESOURCE_WHALES", "TCS_CLASS_HARBOR_GOLD1_RESOURCE"),
		
		--Holy
		("RESOURCE_STONE", "TCS_CLASS_HOLY_FAITH1_RESOURCE"),
		("RESOURCE_INCENSE", "TCS_CLASS_HOLY_FAITH1_RESOURCE"),
		("RESOURCE_WINE", "TCS_CLASS_HOLY_FAITH1_RESOURCE"),
		("RESOURCE_STONE", "TCS_CLASS_HOLY_FAITH2_RESOURCE"),
		("RESOURCE_INCENSE", "TCS_CLASS_HOLY_FAITH2_RESOURCE"),
		("RESOURCE_WINE", "TCS_CLASS_HOLY_FAITH2_RESOURCE"),
		
		--Industrial
		("RESOURCE_GYPSUM", "TCS_CLASS_INDUSTRIAL_PRODUCTION1_RESOURCE"),
		("RESOURCE_COAL", "TCS_CLASS_COAL_PRODUCTION1_RESOURCE"),
		("RESOURCE_OIL", "TCS_CLASS_OIL_PRODUCTION1_RESOURCE"),
		("RESOURCE_ALUMINUM", "TCS_CLASS_ALUMINUM_PRODUCTION1_RESOURCE"),
		
		--Theater
		("RESOURCE_COFFEE", "TCS_CLASS_THEATER_CULTURE1_RESOURCE"),
		("RESOURCE_TEA", "TCS_CLASS_THEATER_CULTURE1_RESOURCE"),
		("RESOURCE_MARBLE", "TCS_CLASS_THEATER_CULTURE1_RESOURCE"),
		("RESOURCE_DIAMONDS", "TCS_CLASS_THEATER_CULTURE1_RESOURCE"),
		("RESOURCE_JADE", "TCS_CLASS_THEATER_CULTURE1_RESOURCE"),

		--Forest
		("FEATURE_FOREST", "TCS_CLASS_FOREST_FOOD1_FEATURE");
		
--MODIFIERS
--A temporary table will create all Tag-related Modifiers	
INSERT INTO Modifiers (ModifierId, ModifierType, OwnerRequirementSetId, SubjectRequirementSetId)
	VALUES
		("TCS_ADJUST_AQUEDUCT_ADJACENT_YIELD", "MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD", NULL, "TCS_REQUIREMENTSET_AQUEDUCT_ADJACENT"),
		("TCS_ADJUST_BATH_ADJACENT_YIELD", "MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD", NULL, "TCS_REQUIREMENTSET_BATH_ADJACENT"),
		("TCS_ADJUST_SEA_TERRAIN_FOOD1_YIELD", "MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD", NULL, "TCS_REQUIREMENTSET_PLOT_IS_SEA"),
		("TCS_ADJUST_SEA_TERRAIN_GOLD1_YIELD", "MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD", NULL, "TCS_REQUIREMENTSET_PLOT_IS_SEA");

--MODIFIER ARGUMENTS
--A temporary table will create all Tag-related ModifierArguments	
INSERT INTO ModifierArguments (ModifierId, Name, Value)
	VALUES
		("TCS_ADJUST_AQUEDUCT_ADJACENT_YIELD", "YieldType", "YIELD_FOOD"),
		("TCS_ADJUST_AQUEDUCT_ADJACENT_YIELD", "Amount", 1),
		("TCS_ADJUST_BATH_ADJACENT_YIELD", "YieldType", "YIELD_FOOD"),	
		("TCS_ADJUST_BATH_ADJACENT_YIELD", "Amount", 1),
		("TCS_ADJUST_SEA_TERRAIN_FOOD1_YIELD", "YieldType", "YIELD_FOOD"),	
		("TCS_ADJUST_SEA_TERRAIN_FOOD1_YIELD", "Amount", 1),
		("TCS_ADJUST_SEA_TERRAIN_GOLD1_YIELD", "YieldType", "YIELD_GOLD"),	
		("TCS_ADJUST_SEA_TERRAIN_GOLD1_YIELD", "Amount", 1);
		
--REQUIREMENTS
--A temporary table will create all Tag-related Requirements		
INSERT INTO Requirements (RequirementId, RequirementType)
	VALUES
		--Aqueduct adjacency requirements
		("TCS_REQUIRES_PLOT_IS_AQUEDUCT_ADJACENT", "REQUIREMENT_PLOT_ADJACENT_DISTRICT_TYPE_MATCHES"),
		("TCS_REQUIRES_PLOT_IS_BATH_ADJACENT", "REQUIREMENT_PLOT_ADJACENT_DISTRICT_TYPE_MATCHES"),
		("TCS_REQUIRES_PLOT_IS_LAND_REQUIREMENTSET", "REQUIREMENT_REQUIREMENTSET_IS_MET"),
		("TCS_REQUIRES_PLOT_IS_GRASS", "REQUIREMENT_PLOT_TERRAIN_TYPE_MATCHES"),
		("TCS_REQUIRES_PLOT_IS_GRASS_HILL", "REQUIREMENT_PLOT_TERRAIN_TYPE_MATCHES"),
		("TCS_REQUIRES_PLOT_IS_PLAINS", "REQUIREMENT_PLOT_TERRAIN_TYPE_MATCHES"),
		("TCS_REQUIRES_PLOT_IS_PLAINS_HILL", "REQUIREMENT_PLOT_TERRAIN_TYPE_MATCHES"),
		("TCS_REQUIRES_PLOT_IS_DESERT", "REQUIREMENT_PLOT_TERRAIN_TYPE_MATCHES"),
		("TCS_REQUIRES_PLOT_IS_DESERT_HILL", "REQUIREMENT_PLOT_TERRAIN_TYPE_MATCHES"),
		("TCS_REQUIRES_PLOT_IS_TUNDRA", "REQUIREMENT_PLOT_TERRAIN_TYPE_MATCHES"),
		("TCS_REQUIRES_PLOT_IS_TUNDRA_HILL", "REQUIREMENT_PLOT_TERRAIN_TYPE_MATCHES"),
		--Sea terrain
		("TCS_REQUIRES_PLOT_IS_SEA_REQUIREMENTSET", "REQUIREMENT_REQUIREMENTSET_IS_MET"),
		("TCS_REQUIRES_PLOT_IS_COAST", "REQUIREMENT_PLOT_TERRAIN_TYPE_MATCHES"),
		("TCS_REQUIRES_PLOT_IS_OCEAN", "REQUIREMENT_PLOT_TERRAIN_TYPE_MATCHES");
	
--REQUIREMENT ARGUMENTS	
--A temporary table will create all Tag-related RequirementArguments
INSERT INTO RequirementArguments (RequirementId, Name, Value)
	VALUES	
		--Aqueduct adjacency requirements
		("TCS_REQUIRES_PLOT_IS_AQUEDUCT_ADJACENT", "DistrictType", "DISTRICT_AQUEDUCT"),
		("TCS_REQUIRES_PLOT_IS_AQUEDUCT_ADJACENT", "MinRange", 0),
		("TCS_REQUIRES_PLOT_IS_AQUEDUCT_ADJACENT", "MaxRange", 2),
		("TCS_REQUIRES_PLOT_IS_BATH_ADJACENT", "DistrictType", "DISTRICT_BATH"),
		("TCS_REQUIRES_PLOT_IS_BATH_ADJACENT", "MinRange", 0),
		("TCS_REQUIRES_PLOT_IS_BATH_ADJACENT", "MaxRange", 2),
		("TCS_REQUIRES_PLOT_IS_LAND_REQUIREMENTSET", "RequirementSetId", "TCS_REQUIREMENTSET_PLOT_IS_LAND"),
		("TCS_REQUIRES_PLOT_IS_GRASS", "TerrainType", "TERRAIN_GRASS"),
		("TCS_REQUIRES_PLOT_IS_GRASS_HILL", "TerrainType", "TERRAIN_GRASS_HILLS"),
		("TCS_REQUIRES_PLOT_IS_PLAINS", "TerrainType", "TERRAIN_PLAINS"),
		("TCS_REQUIRES_PLOT_IS_PLAINS_HILL", "TerrainType", "TERRAIN_PLAINS_HILLS"),
		("TCS_REQUIRES_PLOT_IS_DESERT", "TerrainType", "TERRAIN_DESERT"),
		("TCS_REQUIRES_PLOT_IS_DESERT_HILL", "TerrainType", "TERRAIN_DESERT_HILLS"),
		("TCS_REQUIRES_PLOT_IS_TUNDRA", "TerrainType", "TERRAIN_TUNDRA"),
		("TCS_REQUIRES_PLOT_IS_TUNDRA_HILL", "TerrainType", "TERRAIN_TUNDRA_HILLS"),
		--Sea terrain
		("TCS_REQUIRES_PLOT_IS_SEA_REQUIREMENTSET", "RequirementSetId", "TCS_REQUIREMENTSET_PLOT_IS_SEA"),
		("TCS_REQUIRES_PLOT_IS_COAST", "TerrainType", "TERRAIN_COAST"),
		("TCS_REQUIRES_PLOT_IS_OCEAN", "TerrainType", "TERRAIN_OCEAN");	

--REQUIREMENT SETS
--A temporary table will create all Tag-related RequirementSets
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType)
	VALUES
		("TCS_REQUIREMENTSET_AQUEDUCT_ADJACENT", "REQUIREMENTSET_TEST_ALL"),
		("TCS_REQUIREMENTSET_BATH_ADJACENT", "REQUIREMENTSET_TEST_ALL"),
		("TCS_REQUIREMENTSET_PLOT_IS_LAND", "REQUIREMENTSET_TEST_ANY"),
		("TCS_REQUIREMENTSET_PLOT_IS_SEA", "REQUIREMENTSET_TEST_ANY");
		
--REQUIREMENT SET REQUIREMENTS
--A temporary table will create all Tag-related RequirementSetRequirements
INSERT INTO	RequirementSetRequirements (RequirementSetId, RequirementId)
	VALUES
		--Aqueduct adjacency requirements
		("TCS_REQUIREMENTSET_AQUEDUCT_ADJACENT", "TCS_REQUIRES_PLOT_IS_AQUEDUCT_ADJACENT"),
		("TCS_REQUIREMENTSET_AQUEDUCT_ADJACENT", "TCS_REQUIRES_PLOT_IS_LAND_REQUIREMENTSET"),
		("TCS_REQUIREMENTSET_BATH_ADJACENT", "TCS_REQUIRES_PLOT_IS_BATH_ADJACENT"),
		("TCS_REQUIREMENTSET_BATH_ADJACENT", "TCS_REQUIRES_PLOT_IS_LAND_REQUIREMENTSET"),
		("TCS_REQUIREMENTSET_PLOT_IS_LAND", "TCS_REQUIRES_PLOT_IS_GRASS"),
		("TCS_REQUIREMENTSET_PLOT_IS_LAND", "TCS_REQUIRES_PLOT_IS_GRASS_HILL"),
		("TCS_REQUIREMENTSET_PLOT_IS_LAND", "TCS_REQUIRES_PLOT_IS_PLAINS"),
		("TCS_REQUIREMENTSET_PLOT_IS_LAND", "TCS_REQUIRES_PLOT_IS_PLAINS_HILL"),
		("TCS_REQUIREMENTSET_PLOT_IS_LAND", "TCS_REQUIRES_PLOT_IS_DESERT"),
		("TCS_REQUIREMENTSET_PLOT_IS_LAND", "TCS_REQUIRES_PLOT_IS_DESERT_HILL"),
		("TCS_REQUIREMENTSET_PLOT_IS_LAND", "TCS_REQUIRES_PLOT_IS_TUNDRA"),
		("TCS_REQUIREMENTSET_PLOT_IS_LAND", "TCS_REQUIRES_PLOT_IS_TUNDRA_HILL"),
		--Sea terrain
		("TCS_REQUIREMENTSET_PLOT_IS_SEA", "TCS_REQUIRES_PLOT_IS_COAST"),
		("TCS_REQUIREMENTSET_PLOT_IS_SEA", "TCS_REQUIRES_PLOT_IS_OCEAN");
		
--TEMPORARY REQUIREMENT TABLE
--Drop at the end
--Used for automatic Tag-related Requirement and RequirementSet creation
CREATE TABLE TagTempTable
	(
	RequirementSetId TEXT,
	RequirementSetType TEXT DEFAULT "REQUIREMENTSET_TEST_ALL",
	RequirementId TEXT,
	RequirementType TEXT DEFAULT "REQUIREMENT_PLOT_RESOURCE_TAG_MATCHES",
	Name TEXT DEFAULT "Tag",
	Value TEXT
	);

--Get Requirement Argument Values
INSERT INTO TagTempTable (Value)
	SELECT Tags.Tag FROM Tags WHERE (Tags.Tag LIKE 'TCS%RESOURCE' OR Tags.Tag LIKE 'TCS%FEATURE');

--Get Strategic Resource tech requirements
INSERT INTO TagTempTable (Value)
	SELECT Resources.PrereqTech FROM Resources WHERE (LENGTH(Resources.PrereqTech) > 0);

--Generate RequirementSetIds	
UPDATE TagTempTable	SET RequirementSetId = 'TCS_REQUIREMENTSET' || SUBSTR (Value, 10, 100) 
	WHERE (Value LIKE '%RESOURCE' OR Value LIKE '%FEATURE'); 
UPDATE TagTempTable	SET RequirementSetId = 'TCS_REQUIREMENTSET_' || Value
	WHERE (Value LIKE 'TECH%');

--Generate RequirementIds
UPDATE TagTempTable	SET RequirementId = 'TCS_REQUIRES_PLOT_HAS_TAG' || SUBSTR (Value, 10, 100) 
	WHERE (Value LIKE '%RESOURCE' OR Value LIKE '%FEATURE');
UPDATE TagTempTable	SET RequirementId = 'TCS_REQUIRES_PLAYER_HAS_' || Value
	WHERE (Value LIKE 'TECH%');

--Generate RequirementTypes	
UPDATE TagTempTable	SET RequirementType = 'REQUIREMENT_PLOT_FEATURE_TAG_MATCHES' 
	WHERE (Value LIKE 'TCS%FEATURE');
UPDATE TagTempTable	SET RequirementType = 'REQUIREMENT_PLAYER_HAS_TECHNOLOGY'
	WHERE (Value LIKE 'TECH%');

--Update Requirement Argument Name for technologies
UPDATE TagTempTable SET Name = 'TechnologyType'
	WHERE (Value LIKE 'TECH%');

--Update Requirements Table	
INSERT INTO Requirements (RequirementId, RequirementType)
	SELECT TagTempTable.RequirementId, TagTempTable.RequirementType FROM TagTempTable;

--Update RequirementArguments Table	
INSERT INTO RequirementArguments (RequirementId, Name, Value)
	SELECT TagTempTable.RequirementId, TagTempTable.Name, TagTempTable.Value FROM TagTempTable;

--Update RequirementSets Table
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType)
	SELECT TagTempTable.RequirementSetId, TagTempTable.RequirementSetType FROM TagTempTable;

--Update RequirementSetRequirements	Table
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId)
	SELECT TagTempTable.RequirementSetId, TagTempTable.RequirementId FROM TagTempTable;

--TEMPORARY MODIFIER TABLE 
--Drop at the end
--Used for automatic Tag-related Modifier and Modifier Argument creation	
CREATE TABLE ModTempTable
	(
	ModifierId TEXT,
	ModifierType TEXT DEFAULT "MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD",
	Name TEXT DEFAULT "YieldType",
	Value TEXT,
	SubjectRequirementSetId TEXT,
	OwnerRequirementSetId TEXT DEFAULT 0
	);

--Populate first half of Modifier Arguments
INSERT INTO ModTempTable (ModifierId)
	SELECT TagTempTable.RequirementId FROM TagTempTable WHERE (Value LIKE '%RESOURCE' OR Value LIKE '%FEATURE');

--Generate SubjectRequirementSetIds
UPDATE ModTempTable	SET SubjectRequirementSetId = 'TCS_REQUIREMENTSET' || SUBSTR (ModifierId, 26, 100) 
	WHERE (ModifierId LIKE '%RESOURCE' OR ModifierId LIKE '%FEATURE'); 

--Generate OwnerRequirementSetIds
UPDATE ModTempTable	SET OwnerRequirementSetId = (SELECT Resources.PrereqTech FROM Resources 
													WHERE (LENGTH(Resources.PrereqTech) > 0) 
													AND ResourceType LIKE '%IRON')
					WHERE ModifierId LIKE '%IRON%';
UPDATE ModTempTable	SET OwnerRequirementSetId = (SELECT Resources.PrereqTech FROM Resources 
													WHERE (LENGTH(Resources.PrereqTech) > 0) 
													AND ResourceType LIKE '%NITER')
					WHERE ModifierId LIKE '%NITER%';					
UPDATE ModTempTable	SET OwnerRequirementSetId = (SELECT Resources.PrereqTech FROM Resources 
													WHERE (LENGTH(Resources.PrereqTech) > 0) 
													AND ResourceType LIKE '%COAL')
					WHERE ModifierId LIKE '%COAL%';
UPDATE ModTempTable	SET OwnerRequirementSetId = (SELECT Resources.PrereqTech FROM Resources 
													WHERE (LENGTH(Resources.PrereqTech) > 0) 
													AND ResourceType LIKE '%OIL')
					WHERE ModifierId LIKE '%OIL%';
UPDATE ModTempTable	SET OwnerRequirementSetId = (SELECT Resources.PrereqTech FROM Resources 
													WHERE (LENGTH(Resources.PrereqTech) > 0) 
													AND ResourceType LIKE '%ALUMINUM')
					WHERE ModifierId LIKE '%ALUMINUM%';
UPDATE ModTempTable	SET OwnerRequirementSetId = (SELECT Resources.PrereqTech FROM Resources 
													WHERE (LENGTH(Resources.PrereqTech) > 0) 
													AND ResourceType LIKE '%URANIUM')
					WHERE ModifierId LIKE '%URANIUM%';

--Set correct OwnerRequirementSetId format				
UPDATE ModTempTable	SET OwnerRequirementSetId = 'TCS_REQUIREMENTSET_' || OwnerRequirementSetId
	WHERE (OwnerRequirementSetId LIKE 'TECH%');
	
--Generate ModifierIds
UPDATE ModTempTable SET ModifierId = 'TCS_ADJUST' || SUBSTR (ModifierId, 26, 100) || '_YIELD'
	WHERE (ModifierId LIKE '%RESOURCE' OR ModifierId LIKE '%FEATURE');

--Update Modifiers Table before finishing ModifierArgument generation to avoid inserting duplicates into the Modifiers table
--Insert Modifiers with an OwnerRequirementSetId
INSERT INTO Modifiers (ModifierId, ModifierType, OwnerRequirementSetId, SubjectRequirementSetId)
	SELECT ModTempTable.ModifierId, ModTempTable.ModifierType, ModTempTable.OwnerRequirementSetId, ModTempTable.SubjectRequirementSetId FROM ModTempTable
	WHERE ModTempTable.OwnerRequirementSetId != 0;

--Insert Modifiers without an OwnerRequirementSetId
INSERT INTO Modifiers (ModifierId, ModifierType, SubjectRequirementSetId)
	SELECT ModTempTable.ModifierId, ModTempTable.ModifierType, ModTempTable.SubjectRequirementSetId FROM ModTempTable
	WHERE ModTempTable.OwnerRequirementSetId = 0;
	
--Generate YieldTypes
UPDATE ModTempTable	SET	Value = 'YIELD_FOOD' WHERE ModifierId LIKE 'TCS%FOOD%';
UPDATE ModTempTable	SET	Value = 'YIELD_PRODUCTION' WHERE ModifierId LIKE 'TCS%PRODUCTION%';
UPDATE ModTempTable	SET	Value = 'YIELD_GOLD' WHERE ModifierId LIKE 'TCS%GOLD%';
UPDATE ModTempTable	SET	Value = 'YIELD_SCIENCE' WHERE ModifierId LIKE 'TCS%SCIENCE%';
UPDATE ModTempTable	SET	Value = 'YIELD_CULTURE' WHERE ModifierId LIKE 'TCS%CULTURE%';
UPDATE ModTempTable	SET	Value = 'YIELD_FAITH' WHERE ModifierId LIKE 'TCS%FAITH%';

--Populate second half of Modifier Arguments
INSERT INTO ModTempTable (ModifierId)
	SELECT TagTempTable.RequirementId FROM TagTempTable WHERE (Value LIKE '%RESOURCE' OR Value LIKE '%FEATURE');

--Set new entry Name field to "Amount"
UPDATE ModTempTable SET Name = 'Amount' 
	WHERE (ModifierId LIKE 'TCS_REQUIRES_PLOT_HAS_TAG%');
	
--Generate duplicate ModifierIds
UPDATE ModTempTable SET ModifierId = 'TCS_ADJUST' || SUBSTR (ModifierId, 26, 100) || '_YIELD'
	WHERE (ModifierId LIKE 'TCS_REQUIRES_PLOT_HAS_TAG%');

--Generate yield Amounts
UPDATE ModTempTable SET Value = 1 WHERE ModifierId LIKE '%1%' AND Name = 'Amount';
UPDATE ModTempTable SET Value = 2 WHERE ModifierId LIKE '%2%' AND Name = 'Amount';

--Update ModifierArguments Table
INSERT INTO ModifierArguments (ModifierId, Name, Value)
	SELECT ModTempTable.ModifierId, ModTempTable.Name, ModTempTable.Value FROM ModTempTable;

/*
Building and District Modifiers must be assigned manually. 

Follow the below format to match the automatically generated Modifier format:
	TCS_ADJUST_AQUEDUCT_FOOD2_FEATURE_YIELD
The corresponding Tag is TCS_CLASS_AQUEDUCT_FOOD2_FEATURE
Modify the Tag by replacing the leading TCS_CLASS with TCS_ADJUST and add _YIELD to the end.
*/

--DISTRICT MODIFIERS
INSERT INTO DistrictModifiers (DistrictType, ModifierId)
	VALUES
		("DISTRICT_AQUEDUCT", "TCS_ADJUST_AQUEDUCT_ADJACENT_YIELD"),
		("DISTRICT_AQUEDUCT", "TCS_ADJUST_AQUEDUCT_FOOD2_FEATURE_YIELD"),
		("DISTRICT_BATH", "TCS_ADJUST_BATH_ADJACENT_YIELD"),
		("DISTRICT_BATH", "TCS_ADJUST_AQUEDUCT_FOOD2_FEATURE_YIELD"),
		("DISTRICT_CAMPUS", "TCS_ADJUST_CAMPUS_SCIENCE2_RESOURCE_YIELD"),
		("DISTRICT_CAMPUS", "TCS_ADJUST_URANIUM_SCIENCE2_RESOURCE_YIELD"),
		("DISTRICT_COMMERCIAL_HUB", "TCS_ADJUST_COMMERCIAL_GOLD1_RESOURCE_YIELD"),
		("DISTRICT_ENCAMPMENT", "TCS_ADJUST_ENCAMPMENT_PRODUCTION1_RESOURCE_YIELD"),
		("DISTRICT_ENCAMPMENT", "TCS_ADJUST_IRON_PRODUCTION1_RESOURCE_YIELD"),
		("DISTRICT_ENCAMPMENT", "TCS_ADJUST_NITER_PRODUCTION1_RESOURCE_YIELD"),
		("DISTRICT_ENTERTAINMENT_COMPLEX", "TCS_ADJUST_ENTERTAINMENT_CULTURE1_RESOURCE_YIELD"),
		("DISTRICT_ENTERTAINMENT_COMPLEX", "TCS_ADJUST_ENTERTAINMENT_GOLD1_RESOURCE_YIELD"),
		("DISTRICT_STREET_CARNIVAL", "TCS_ADJUST_ENTERTAINMENT_CULTURE1_RESOURCE_YIELD"),
		("DISTRICT_STREET_CARNIVAL", "TCS_ADJUST_ENTERTAINMENT_GOLD1_RESOURCE_YIELD"),
		("DISTRICT_HARBOR", "TCS_ADJUST_SEA_TERRAIN_FOOD1_YIELD"),
		("DISTRICT_ROYAL_NAVY_DOCKYARD", "TCS_ADJUST_SEA_TERRAIN_FOOD1_YIELD"),
		("DISTRICT_HOLY_SITE", "TCS_ADJUST_HOLY_FAITH2_RESOURCE_YIELD"),
		("DISTRICT_LAVRA", "TCS_ADJUST_HOLY_FAITH2_RESOURCE_YIELD"),
		("DISTRICT_INDUSTRIAL_ZONE", "TCS_ADJUST_INDUSTRIAL_PRODUCTION1_RESOURCE_YIELD"),
		("DISTRICT_INDUSTRIAL_ZONE", "TCS_ADJUST_ALUMINUM_PRODUCTION1_RESOURCE_YIELD"),
		("DISTRICT_INDUSTRIAL_ZONE", "TCS_ADJUST_COAL_PRODUCTION1_RESOURCE_YIELD"),
		("DISTRICT_INDUSTRIAL_ZONE", "TCS_ADJUST_OIL_PRODUCTION1_RESOURCE_YIELD"),
		("DISTRICT_HANSA", "TCS_ADJUST_INDUSTRIAL_PRODUCTION1_RESOURCE_YIELD"),
		("DISTRICT_HANSA", "TCS_ADJUST_ALUMINUM_PRODUCTION1_RESOURCE_YIELD"),
		("DISTRICT_HANSA", "TCS_ADJUST_COAL_PRODUCTION1_RESOURCE_YIELD"),
		("DISTRICT_HANSA", "TCS_ADJUST_OIL_PRODUCTION1_RESOURCE_YIELD"),
		("DISTRICT_THEATER", "TCS_ADJUST_THEATER_CULTURE1_RESOURCE_YIELD"),
		("DISTRICT_ACROPOLIS", "TCS_ADJUST_THEATER_CULTURE1_RESOURCE_YIELD");

--BUILDING MODIFIERS
DELETE FROM BuildingModifiers WHERE BuildingType = "BUILDING_WATER_MILL";
INSERT INTO BuildingModifiers (BuildingType, ModifierId)
	VALUES
		("BUILDING_ARMORY", "TCS_ADJUST_IRON_PRODUCTION1_RESOURCE_YIELD"),
		("BUILDING_ARMORY", "TCS_ADJUST_NITER_PRODUCTION1_RESOURCE_YIELD"),
		("BUILDING_BARRACKS", "TCS_ADJUST_BARRACKS_PRODUCTION1_RESOURCE_YIELD"),
		("BUILDING_STABLE", "TCS_ADJUST_HORSE_PRODUCTION1_RESOURCE_YIELD"),
		("BUILDING_GRANARY", "TCS_ADJUST_GRANARY_FOOD1_RESOURCE_YIELD"),
		("BUILDING_ARENA", "TCS_ADJUST_ENTERTAINMENT_GOLD1_RESOURCE_YIELD"),
		("BUILDING_ZOO", "TCS_ADJUST_ENTERTAINMENT_CULTURE1_RESOURCE_YIELD"),
		("BUILDING_LIGHTHOUSE", "TCS_ADJUST_HARBOR_FOOD1_RESOURCE_YIELD"),
		("BUILDING_SHIPYARD", "TCS_ADJUST_HARBOR_FOOD1_RESOURCE_YIELD"),
		("BUILDING_SHIPYARD", "TCS_ADJUST_SEA_TERRAIN_GOLD1_YIELD"),
		("BUILDING_SEAPORT", "TCS_ADJUST_HARBOR_PRODUCTION1_RESOURCE_YIELD"),
		("BUILDING_SEAPORT", "TCS_ADJUST_SEA_TERRAIN_FOOD1_YIELD"),
		("BUILDING_SHRINE", "TCS_ADJUST_HOLY_FAITH1_RESOURCE_YIELD"),
		("BUILDING_AMPHITHEATER", "TCS_ADJUST_THEATER_CULTURE1_RESOURCE_YIELD");
	
--DROP TEMPORARY TABLES
DROP TABLE TagTempTable;
DROP TABLE ModTempTable;